---
layouts: single
title: 빅데이터를 지배하는 통계의 힘 3장
categories: book
tags:
  - 책
  - 통계
  - 빅데이터책
toc: true
typora-root-url: ../
---
# 3장 통찰의 왕이 되는 분석방법들 



---
## 11 통계학의 왕도 '회귀 분석'

'양적 설명변수를 늘리는 게 좋은지 줄이는 게 좋은지 혹은 늘려도 줄여도 상관없는지' 를 알면 설명변수를 늘리거나 줄이거나 혹은 신경쓰지 않는 등의 행동을 할 수 있다.

분할표 분석을 하면 500만개 이상의 칸이 필요한 데이터라도 결국 우리는 '설명변수를 늘리는게 좋을지 줄이는 게 좋을지' 같은 별 도움 안되는 행동만 한다. 
즉 그 대략적인 행동을 할 것이라면 애당초 '양적 설명 변수가 늘때 마다 평균적으로 얼마만큼 아웃컴이 느는가 / 주는가'라는 경향성을 나타내는 분석방법을 쓰는 게 나을지도 모른다. -> "회귀분석."

* 산포도와 회귀 직선으로 '경향' 을 파악

어떻게 해야 객곽적으로 '경향성' 을 표현할 수 있을까. 
-> '경향성울 나타내는 직선과 실제 데이터 값을 벗어난 값의 제곱합'을 최소로 만드는 직선. 


---

## 12 중학 수학으로 이해하는 회귀직선과 회귀식 

설명변수가 1 늘면 아웃컴이 몇 단위 늘어나고 줄어드는지를 나타내는 것이 '회귀계수'이다. 

최소 제곱법을 사용하여 회귀직선을 구할 때 어떤 '제곱합을 최소화'하는가 하면, 
각각의 점에 대해 '실제의 아웃컴의 값'과 
'X값과 회귀식에서 구해지는 아웃컴의 예측값'의 세로축 방향 차이의 제곱합을 최소화한다. 

벗어난 값의 제곱합을 전문용어로 잔차제곱합이라고 부르는데 이 값이 가장 작아질 때 최량의 회귀직선으로 생각한다. 

<br>

* 회귀분석에서는 '기울기'의 표준오차를 생각한다.  

회귀분석에서는 회귀계수의 표준오차(SE)를 생각한다. 
회귀계수에서도 '원시 데이터가 그 무엇이든 모두 더하면 정규분포에 가까워진다'는 중심극한정리가 작용한다. 

<br>



* 회귀분석 오차의 계산에 추가로 필요한 것 

'설명변수의 불규칙성 크기'를 고려해야 한다. 
회귀계수의 표준오차 크기를 생각할 경우 '아웃컴의 예측값과 실제 값이 평균적으로 어느 정도 벗어나 있는가'라는 크기를, 설명변수가 어느 정도 불규칙한지의 크기에 대한 비율로 상대적인 판단을 할 필요가 있는것. 



$$
회귀계수의 표준 오차 (SE) = \sqrt{\frac{잔차제곱합}{설명변수의 편차제곱합 \times 데이터 수 }}
$$



## 13 다양한 설명변수를 한번에 분석해주는 다중회귀분석 

하나의 설명변수와 아웃컴의 관련성을 보기 위한 회귀분석을 가리켜 특히 단순회귀 분석이라고 한다. 
-> 하나의 설명변수와 하나의 아웃컴 간의 관계성만 분석하면 간과하고 있었던 다른 요인에 의해 결과가 왜곡되는 경우가 종종 생긴다 



* 서브그룹 해석은 한계에 부딪치기 쉽다. 

서브 그룹 해석은 매우 단순하여 누구나 이해하기 쉽지만, 데이터에 포함된 항목이 많아지면 대량의 결과를 일일이 확인해야한다. 



* 다중회귀분석이라면 한번에 분석이 가능하다. 

다중회귀분석에 의해 복수의 설명변수와 아웃컴의 관련성을 '한번에 분석' 하는 방법이다. 
다중회귀분석아래서는 '방문횟수가 동일하더라도 계약건수가 다르다'는 문제에 대해 '구체적으로 얼마나 달라지는가'하는 값을 추정하고 그 값으로 조정함으로써 정확한 관련성을 찾으려고 한다. 



* 더미변수의 개념을 확인한다. 

다중회귀 분석에서 나타나는 각각의 회귀계수가 '다른 더미변수의 값이 같을 때 이 더미변수가 하나 더 증가하면 아웃컴은 몇개 많은가/적은가' 를 알고 있어야한다. 



* 현장에서 압도적으로 많이 사용되는 다중회귀분석 

업무에서 설명변수의 후보가 대량인 데이터가 있다면 우선 모든 설명변수를 다중회귀분석에 적용하여 p-value가 작고 회귀계수가 큰 것을 탐색하는 방식을 압도적으로 많이 선호한다. 



## 14 로지스틱 회귀분석과 그 계산을 가능케 하는 로그오즈비 

* 케이스 컨트롤 조사에 사용되는 오즈비 

$$
오즈 = \frac{확률}{1-확률}
$$

오즈는 해당자의 비율이 낮은 질적 아웃컴에 대해 그 확률을 좌우할 가능성이 있는 요인을 조사할 때 중요한 의미를 가진다. 
조건이 동일한데도 병에 걸린 사람과 걸리지 않은 사람 사이에 어떤 차이가 있는지 살펴보는 것이 케이스 컨트롤 조사의 취지. 



## 15 회귀모형의 총정리와 보충 

'양적 아웃컴은 다중회귀분석, 이항 아웃컴은 로지스틱 회귀분석을 사용한다.' 









